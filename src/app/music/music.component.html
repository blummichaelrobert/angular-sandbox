
<div class="row"> 
    <div class="col-xs-4">
        <div class="panel panel-default">
            <h3>Pick Key:</h3>
            <google-chart id="keyPickerChart"
                          [type]="keyPickerVisual.type"
                          [data]="this.keyPickerVisual.data"
                          [options]="keyPickerVisual.googleChartOptions"
                          (select)="handleKeySelected($event)">
            </google-chart>
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <button type="button"
                        [ngClass]="showingCircleOf5ths ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleShowCircleByPerfect5ths()">
                    ã€‡ of 5ths
                </button>
                <button type="button"
                        [ngClass]="intervalBtnState.showingMajorKey ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleKeyVersionSelected('major')">
                    Major
                </button>
                <button type="button"
                        [ngClass]="!intervalBtnState.showingMajorKey ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleKeyVersionSelected('minor')">
                    Minor
                </button>
            </div>
         </div>
     </div>
    <div class="col-xs-4">
        <div class="panel panel-default">
            <h3 *ngIf="intervalBtnState.showingMajorKey">Major Key:</h3>
            <h3 *ngIf="!intervalBtnState.showingMajorKey">Minor Key:</h3>
            <google-chart #scaleChart
                          [type]="musicKeyVisual.type"
                          [data]="musicKeyVisual.data"
                          [options]="musicKeyVisual.googleChartOptions">
            </google-chart>
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <button type="button"
                        *ngIf="intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showingRoot ? 'music-btn-pressed' : 'music-btn'">
                    I
                </button>
                <button type="button"
                        *ngIf="!intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showingRoot ? 'music-btn-pressed' : 'music-btn'">
                    i
                </button>
                <button type="button"
                        *ngIf="intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing2nd ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing2nd', 2)">
                    ii
                </button>
                <button type="button"
                        *ngIf="!intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing2nd ?'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing2nd', 2)">
                    dim
                </button>
                <button type="button"
                        *ngIf="intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing3rd ?'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing3rd', 4)">
                    iii
                </button>
                <button type="button"
                        *ngIf="!intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing3rd ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing3rd', 3)">
                    III
                </button>
                <button type="button"
                        *ngIf="intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing4th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing4th', 5)">
                    IV
                </button>
                <button type="button"
                        *ngIf="!intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing4th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing4th', 5)">
                    iv
                </button>
                <button type="button"
                        *ngIf="intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing5th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing5th', 7)">
                    V
                </button>
                <button type="button"
                        *ngIf="!intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing5th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing5th', 7)">
                    v
                </button>
                <button type="button"
                        *ngIf="intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing6th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing6th', 9)">
                    vi
                </button>
                <button type="button"
                        *ngIf="!intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing6th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing6th', 8)">
                    VI
                </button>
                <button type="button"
                        *ngIf="intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing7th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing7th', 11)">
                    dim
                </button>
                <button type="button"
                        *ngIf="!intervalBtnState.showingMajorKey"
                        [ngClass]="intervalBtnState.showing7th ? 'music-btn-pressed' : 'music-btn'"
                        (click)="handleIntervalClick('showing7th', 10)">
                    VII
                </button>
            </div>
        </div>         
    </div>
    <div class="col-xs-4">
        <div style="height: 32%"
             class="panel panel-default">
            <p>key info?</p>
        </div>
        <div style="height: 68%"
             class="panel panel-default">
            <chord-progression [musicKey]="musicKeyService.musicKey$ | async"
                               [showingMajorKey]="intervalBtnState.showingMajorKey"></chord-progression>
        </div>
    </div>
</div>

<fretboard [musicKey]="musicKeyService.musicKey$ | async"></fretboard>

